<template>
  <div>
    <div class="container mx-auto px-6 md:px-0 pt-[5rem]">
      <div class="flex flex-wrap lg:flex-nowrap">
        <div
          class="w-full lg:w-[50%] lg:mr-[4rem] mb-[35px] border border-[#F5F5F5] rounded-[20px] p-[0.25rem] md:p-5"
        >
          <div class="overflow-hidden rounded-[8px] relative">
            <img
              :src="heroImage ? heroImage : '/Images/Product/product-1.png'"
              alt=""
              class="object-contain max-h-[560px] mx-auto"
            />
            <div class="absolute top-[15px] right-[15px]">
              <svg
                width="27"
                height="27"
                viewBox="0 0 27 27"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="cursor-pointer border border-[#F3F3F3] p-[0.425rem] md:p-2.5 block w-[33px] md:w-[45px] h-[33px] md:h-[45px] rounded-full bg-[#FCFCFC] mb-3"
                @click="shareProduct"
              >
                <g clip-path="url(#clip0_4661_37639)">
                  <path
                    d="M19.0833 18.5858C18.1721 18.59 17.2955 18.9324 16.6254 19.5459L7.68278 14.3732C7.75175 14.0874 7.78945 13.795 7.79521 13.5011C7.78945 13.2072 7.75175 12.9148 7.68278 12.629L16.5254 7.50591C17.1586 8.08809 17.9742 8.43581 18.835 8.49059C19.6959 8.54538 20.5494 8.30387 21.2522 7.80671C21.9549 7.30955 22.4639 6.58706 22.6935 5.76078C22.9231 4.93449 22.8594 4.05482 22.513 3.26974C22.1667 2.48466 21.5588 1.84207 20.7917 1.45006C20.0246 1.05804 19.145 0.940527 18.3009 1.11728C17.4568 1.29402 16.6998 1.75425 16.157 2.42055C15.6143 3.08684 15.3191 3.91854 15.3209 4.77576C15.3267 5.06964 15.3644 5.36205 15.4334 5.64788L6.59072 10.7709C6.05518 10.2728 5.38478 9.94108 4.66202 9.81662C3.93925 9.69217 3.19563 9.78039 2.52266 10.0704C1.84969 10.3605 1.27672 10.8397 0.874236 11.4491C0.471755 12.0585 0.257324 12.7716 0.257324 13.5006C0.257324 14.2295 0.471755 14.9426 0.874236 15.552C1.27672 16.1614 1.84969 16.6406 2.52266 16.9307C3.19563 17.2207 3.93925 17.3089 4.66202 17.1845C5.38478 17.06 6.05518 16.7283 6.59072 16.2302L15.5219 21.4163C15.4556 21.6814 15.4207 21.9533 15.4178 22.2264C15.4178 22.9462 15.6325 23.6499 16.035 24.2484C16.4374 24.8469 17.0094 25.3134 17.6786 25.5889C18.3478 25.8643 19.0842 25.9364 19.7947 25.796C20.5051 25.6555 21.1577 25.3089 21.6699 24.7999C22.1821 24.2909 22.5309 23.6424 22.6722 22.9364C22.8135 22.2304 22.741 21.4986 22.4638 20.8336C22.1866 20.1686 21.7172 19.6002 21.1149 19.2002C20.5126 18.8003 19.8045 18.5869 19.0802 18.5869L19.0833 18.5858Z"
                    fill="#C3C3C3"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_4661_37639">
                    <rect
                      width="26.3572"
                      height="26.3572"
                      fill="white"
                      transform="translate(0.503418 0.53125)"
                    />
                  </clipPath>
                </defs>
              </svg>
              <svg
                width="27"
                height="28"
                viewBox="0 0 27 28"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="cursor-pointer border border-[#F3F3F3] p-[0.425rem] md:p-2.5 block w-[33px] md:w-[45px] h-[33px] md:h-[45px] rounded-full bg-[#FCFCFC] mb-3"
                @click="toggleFavorite"
              >
                <g clip-path="url(#clip0_4949_3589)">
                  <path
                    d="M23.2248 5.65198C22.6576 5.08445 21.984 4.63424 21.2427 4.32708C20.5014 4.01991 19.7069 3.86182 18.9044 3.86182C18.102 3.86182 17.3074 4.01991 16.5661 4.32708C15.8248 4.63424 15.1513 5.08445 14.584 5.65198L13.4067 6.82927L12.2295 5.65198C11.0836 4.50614 9.52952 3.86241 7.90905 3.86241C6.28858 3.86241 4.73449 4.50614 3.58864 5.65198C2.4428 6.79783 1.79907 8.35192 1.79907 9.97239C1.79907 11.5929 2.4428 13.147 3.58864 14.2928L4.76593 15.4701L13.4067 24.1109L22.0476 15.4701L23.2248 14.2928C23.7924 13.7255 24.2426 13.052 24.5497 12.3107C24.8569 11.5694 25.015 10.7748 25.015 9.97239C25.015 9.16996 24.8569 8.3754 24.5497 7.63409C24.2426 6.89278 23.7924 6.21925 23.2248 5.65198V5.65198Z"
                    :stroke="
                      favoriteProductIds.includes(product.id)
                        ? '#FF364A'
                        : '#C3C3C3'
                    "
                    stroke-width="1.64535"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    :fill="
                      favoriteProductIds.includes(product.id) ? '#FF364A' : ''
                    "
                  />
                </g>
                <defs>
                  <clipPath id="clip0_4949_3589">
                    <rect
                      width="26.6555"
                      height="26.6555"
                      fill="white"
                      transform="translate(0.0788574 0.532227)"
                    />
                  </clipPath>
                </defs>
              </svg>
            </div>
          </div>
          <div
            v-if="product.images && product.images.length"
            class="flex items-center justify-between"
          >
            <div class="w-[90%] mx-auto">
              <VueSlickCarousel
                v-bind="dynamicCarouselSettings"
                class="section788777887"
              >
                <div v-for="(item, index) in isolatedImages" :key="index">
                  <img
                    :src="item.imageUrl"
                    alt="Carousel Image"
                    class="w-[68px] md:w-[122px] h-[68px] md:h-[122px] object-contain border border-[#F5F5F5] rounded-[12px] mr-[5px]"
                    @click="heroImage = item.imageUrl"
                  />
                </div>
              </VueSlickCarousel>
            </div>
          </div>
        </div>
        <div class="w-[100%] lg:w-[50%] lg:pl-[2rem]">
          <div class="w-full md:w-[72%] lg:w-full">
            <h3
              class="text-[#000000] text-[20px] md:text-[30px] font-Montserrat-Bold pb-[10px] lg:pb-[5px]"
            >
              {{ product?.name }}
              <span
                class="bg-[#FFEBC3] rounded-[5px] text-[#121212] text-[14px] font-normal font-Montserrat-Medium p-[2px_8px] capitalize"
                >{{ product?.type }}</span
              >
            </h3>
            <p
              class="text-[#000000] text-[18px] md:text-[25px] font-Montserrat-Medium pb-[20px]"
            >
              ${{ product?.price }}
              <span
                class="text-[#A0A0A0] ml-2 line-through"
                v-if="product?.discount > 0"
                >${{ product?.price }}</span
              >
              <span
                v-if="product?.discount > 0"
                class="ml-3 bg-[#29CC6A] rounded-[5px] text-[#FFFFFF] text-[14px] font-normal font-Montserrat-Medium p-[2px_8px]"
                >Save 18%</span
              >
            </p>
            <div
              v-if="product.fees && product.fees.length"
              class="border-t border-b border-[#D5D5D5] p-[20px_0px]"
            >
              <p
                class="text-[14px] md:text-[16px] text-[#121212] font-Montserrat-Medium pb-[8px]"
                v-for="(item, index) in product.fees"
                :key="index"
              >
                {{ item.name }}: ${{ item.price }}
              </p>
              <p
                class="text-[#A0A0A0] text-[12px] md:text-[14px] font-Montserrat-Medium"
              >
                *Permit Fee may be required based on location
              </p>
            </div>
            <div class="flex py-[20px] border-b border-[#D5D5D5] flex-wrap">
              <div
                class="flex items-center m-[5px] md:m-0 md:mr-5 border md:border-0 md:border-r border-[#F5F5F5] md:border-[#121212] min-w-[150px] rounded-[5px] md:rounded-[0px] p-[10px] md:p-0 md:pr-8"
              >
                <div class="mr-2">
                  <svg
                    width="26"
                    height="26"
                    viewBox="0 0 26 26"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M18.1522 3.90332C18.4276 3.90318 18.6934 4.00473 18.8985 4.18849C19.1036 4.37224 19.2337 4.62527 19.2637 4.89903L19.2698 5.02096V7.96745H20.2859C21.0633 7.96741 21.8115 8.26446 22.3771 8.79784C22.9428 9.33121 23.2833 10.0606 23.3289 10.8367L23.334 11.0156V18.1278C23.3341 18.6404 23.1405 19.1342 22.7919 19.5101C22.4433 19.8861 21.9655 20.1163 21.4543 20.1548L21.3019 20.1598H19.2698V22.0903C19.27 22.3657 19.1684 22.6315 18.9847 22.8366C18.8009 23.0417 18.5479 23.1718 18.2741 23.2018L18.1522 23.2079H8.19507C7.91967 23.2081 7.65391 23.1065 7.44878 22.9228C7.24364 22.739 7.11358 22.486 7.08353 22.2122L7.07744 22.0903V20.1598H5.04537C4.53271 20.16 4.03892 19.9664 3.66301 19.6178C3.2871 19.2692 3.05684 18.7914 3.01839 18.2802L3.01331 18.1278V11.0156C3.01326 10.2381 3.31032 9.48996 3.84369 8.92429C4.37707 8.35862 5.10644 8.01814 5.88258 7.97253L6.0614 7.96745H7.07744V5.02096C7.0773 4.74555 7.17884 4.47979 7.3626 4.27466C7.54636 4.06953 7.79939 3.93946 8.07315 3.90942L8.19507 3.90332H18.1522ZM17.2378 17.1117H9.1095V21.1759H17.2378V17.1117ZM20.2859 9.99952H6.0614C5.81254 9.99955 5.57235 10.0909 5.38638 10.2563C5.20041 10.4217 5.0816 10.6495 5.05248 10.8967L5.04537 11.0156V18.1278H7.07744V16.1973C7.0773 15.9219 7.17884 15.6562 7.3626 15.451C7.54636 15.2459 7.79939 15.1158 8.07315 15.0858L8.19507 15.0797H18.1522C18.4276 15.0795 18.6934 15.1811 18.8985 15.3648C19.1036 15.5486 19.2337 15.8016 19.2637 16.0754L19.2698 16.1973V18.1278H21.3019V11.0156C21.3019 10.7461 21.1949 10.4876 21.0043 10.2971C20.8138 10.1066 20.5553 9.99952 20.2859 9.99952ZM18.2538 11.0156C18.5128 11.0158 18.7618 11.115 18.9502 11.2928C19.1385 11.4705 19.2518 11.7135 19.267 11.972C19.2821 12.2306 19.198 12.4851 19.0318 12.6837C18.8656 12.8823 18.6298 13.0099 18.3727 13.0405L18.2538 13.0476H16.2217C15.9628 13.0473 15.7137 12.9482 15.5254 12.7704C15.3371 12.5926 15.2238 12.3496 15.2086 12.0911C15.1934 11.8326 15.2775 11.578 15.4437 11.3795C15.6099 11.1809 15.8457 11.0532 16.1029 11.0227L16.2217 11.0156H18.2538ZM17.2378 5.93539H9.1095V7.96745H17.2378V5.93539Z"
                      fill="#121212"
                    />
                    <path
                      d="M18.1522 3.90332C18.4276 3.90318 18.6934 4.00473 18.8985 4.18849C19.1036 4.37224 19.2337 4.62527 19.2637 4.89903L19.2698 5.02096V7.96745H20.2859C21.0633 7.96741 21.8115 8.26446 22.3771 8.79784C22.9428 9.33121 23.2833 10.0606 23.3289 10.8367L23.334 11.0156V18.1278C23.3341 18.6404 23.1405 19.1342 22.7919 19.5101C22.4433 19.8861 21.9655 20.1163 21.4543 20.1548L21.3019 20.1598H19.2698V22.0903C19.27 22.3657 19.1684 22.6315 18.9847 22.8366C18.8009 23.0417 18.5479 23.1718 18.2741 23.2018L18.1522 23.2079H8.19507C7.91967 23.2081 7.65391 23.1065 7.44878 22.9228C7.24364 22.739 7.11358 22.486 7.08353 22.2122L7.07744 22.0903V20.1598H5.04537C4.53271 20.16 4.03892 19.9664 3.66301 19.6178C3.2871 19.2692 3.05684 18.7914 3.01839 18.2802L3.01331 18.1278V11.0156C3.01326 10.2381 3.31032 9.48996 3.84369 8.92429C4.37707 8.35862 5.10644 8.01814 5.88258 7.97253L6.0614 7.96745H7.07744V5.02096C7.0773 4.74555 7.17884 4.47979 7.3626 4.27466C7.54636 4.06953 7.79939 3.93946 8.07315 3.90942L8.19507 3.90332H18.1522ZM17.2378 17.1117H9.1095V21.1759H17.2378V17.1117ZM20.2859 9.99952H6.0614C5.81254 9.99955 5.57235 10.0909 5.38638 10.2563C5.20041 10.4217 5.0816 10.6495 5.05248 10.8967L5.04537 11.0156V18.1278H7.07744V16.1973C7.0773 15.9219 7.17884 15.6562 7.3626 15.451C7.54636 15.2459 7.79939 15.1158 8.07315 15.0858L8.19507 15.0797H18.1522C18.4276 15.0795 18.6934 15.1811 18.8985 15.3648C19.1036 15.5486 19.2337 15.8016 19.2637 16.0754L19.2698 16.1973V18.1278H21.3019V11.0156C21.3019 10.7461 21.1949 10.4876 21.0043 10.2971C20.8138 10.1066 20.5553 9.99952 20.2859 9.99952ZM18.2538 11.0156C18.5128 11.0158 18.7618 11.115 18.9502 11.2928C19.1385 11.4705 19.2518 11.7135 19.267 11.972C19.2821 12.2306 19.198 12.4851 19.0318 12.6837C18.8656 12.8823 18.6298 13.0099 18.3727 13.0405L18.2538 13.0476H16.2217C15.9628 13.0473 15.7137 12.9482 15.5254 12.7704C15.3371 12.5926 15.2238 12.3496 15.2086 12.0911C15.1934 11.8326 15.2775 11.578 15.4437 11.3795C15.6099 11.1809 15.8457 11.0532 16.1029 11.0227L16.2217 11.0156H18.2538ZM17.2378 5.93539H9.1095V7.96745H17.2378V5.93539Z"
                      fill="black"
                      fill-opacity="0.2"
                    />
                    <path
                      d="M18.1522 3.90332C18.4276 3.90318 18.6934 4.00473 18.8985 4.18849C19.1036 4.37224 19.2337 4.62527 19.2637 4.89903L19.2698 5.02096V7.96745H20.2859C21.0633 7.96741 21.8115 8.26446 22.3771 8.79784C22.9428 9.33121 23.2833 10.0606 23.3289 10.8367L23.334 11.0156V18.1278C23.3341 18.6404 23.1405 19.1342 22.7919 19.5101C22.4433 19.8861 21.9655 20.1163 21.4543 20.1548L21.3019 20.1598H19.2698V22.0903C19.27 22.3657 19.1684 22.6315 18.9847 22.8366C18.8009 23.0417 18.5479 23.1718 18.2741 23.2018L18.1522 23.2079H8.19507C7.91967 23.2081 7.65391 23.1065 7.44878 22.9228C7.24364 22.739 7.11358 22.486 7.08353 22.2122L7.07744 22.0903V20.1598H5.04537C4.53271 20.16 4.03892 19.9664 3.66301 19.6178C3.2871 19.2692 3.05684 18.7914 3.01839 18.2802L3.01331 18.1278V11.0156C3.01326 10.2381 3.31032 9.48996 3.84369 8.92429C4.37707 8.35862 5.10644 8.01814 5.88258 7.97253L6.0614 7.96745H7.07744V5.02096C7.0773 4.74555 7.17884 4.47979 7.3626 4.27466C7.54636 4.06953 7.79939 3.93946 8.07315 3.90942L8.19507 3.90332H18.1522ZM17.2378 17.1117H9.1095V21.1759H17.2378V17.1117ZM20.2859 9.99952H6.0614C5.81254 9.99955 5.57235 10.0909 5.38638 10.2563C5.20041 10.4217 5.0816 10.6495 5.05248 10.8967L5.04537 11.0156V18.1278H7.07744V16.1973C7.0773 15.9219 7.17884 15.6562 7.3626 15.451C7.54636 15.2459 7.79939 15.1158 8.07315 15.0858L8.19507 15.0797H18.1522C18.4276 15.0795 18.6934 15.1811 18.8985 15.3648C19.1036 15.5486 19.2337 15.8016 19.2637 16.0754L19.2698 16.1973V18.1278H21.3019V11.0156C21.3019 10.7461 21.1949 10.4876 21.0043 10.2971C20.8138 10.1066 20.5553 9.99952 20.2859 9.99952ZM18.2538 11.0156C18.5128 11.0158 18.7618 11.115 18.9502 11.2928C19.1385 11.4705 19.2518 11.7135 19.267 11.972C19.2821 12.2306 19.198 12.4851 19.0318 12.6837C18.8656 12.8823 18.6298 13.0099 18.3727 13.0405L18.2538 13.0476H16.2217C15.9628 13.0473 15.7137 12.9482 15.5254 12.7704C15.3371 12.5926 15.2238 12.3496 15.2086 12.0911C15.1934 11.8326 15.2775 11.578 15.4437 11.3795C15.6099 11.1809 15.8457 11.0532 16.1029 11.0227L16.2217 11.0156H18.2538ZM17.2378 5.93539H9.1095V7.96745H17.2378V5.93539Z"
                      fill="black"
                      fill-opacity="0.2"
                    />
                    <path
                      d="M18.1522 3.90332C18.4276 3.90318 18.6934 4.00473 18.8985 4.18849C19.1036 4.37224 19.2337 4.62527 19.2637 4.89903L19.2698 5.02096V7.96745H20.2859C21.0633 7.96741 21.8115 8.26446 22.3771 8.79784C22.9428 9.33121 23.2833 10.0606 23.3289 10.8367L23.334 11.0156V18.1278C23.3341 18.6404 23.1405 19.1342 22.7919 19.5101C22.4433 19.8861 21.9655 20.1163 21.4543 20.1548L21.3019 20.1598H19.2698V22.0903C19.27 22.3657 19.1684 22.6315 18.9847 22.8366C18.8009 23.0417 18.5479 23.1718 18.2741 23.2018L18.1522 23.2079H8.19507C7.91967 23.2081 7.65391 23.1065 7.44878 22.9228C7.24364 22.739 7.11358 22.486 7.08353 22.2122L7.07744 22.0903V20.1598H5.04537C4.53271 20.16 4.03892 19.9664 3.66301 19.6178C3.2871 19.2692 3.05684 18.7914 3.01839 18.2802L3.01331 18.1278V11.0156C3.01326 10.2381 3.31032 9.48996 3.84369 8.92429C4.37707 8.35862 5.10644 8.01814 5.88258 7.97253L6.0614 7.96745H7.07744V5.02096C7.0773 4.74555 7.17884 4.47979 7.3626 4.27466C7.54636 4.06953 7.79939 3.93946 8.07315 3.90942L8.19507 3.90332H18.1522ZM17.2378 17.1117H9.1095V21.1759H17.2378V17.1117ZM20.2859 9.99952H6.0614C5.81254 9.99955 5.57235 10.0909 5.38638 10.2563C5.20041 10.4217 5.0816 10.6495 5.05248 10.8967L5.04537 11.0156V18.1278H7.07744V16.1973C7.0773 15.9219 7.17884 15.6562 7.3626 15.451C7.54636 15.2459 7.79939 15.1158 8.07315 15.0858L8.19507 15.0797H18.1522C18.4276 15.0795 18.6934 15.1811 18.8985 15.3648C19.1036 15.5486 19.2337 15.8016 19.2637 16.0754L19.2698 16.1973V18.1278H21.3019V11.0156C21.3019 10.7461 21.1949 10.4876 21.0043 10.2971C20.8138 10.1066 20.5553 9.99952 20.2859 9.99952ZM18.2538 11.0156C18.5128 11.0158 18.7618 11.115 18.9502 11.2928C19.1385 11.4705 19.2518 11.7135 19.267 11.972C19.2821 12.2306 19.198 12.4851 19.0318 12.6837C18.8656 12.8823 18.6298 13.0099 18.3727 13.0405L18.2538 13.0476H16.2217C15.9628 13.0473 15.7137 12.9482 15.5254 12.7704C15.3371 12.5926 15.2238 12.3496 15.2086 12.0911C15.1934 11.8326 15.2775 11.578 15.4437 11.3795C15.6099 11.1809 15.8457 11.0532 16.1029 11.0227L16.2217 11.0156H18.2538ZM17.2378 5.93539H9.1095V7.96745H17.2378V5.93539Z"
                      fill="black"
                      fill-opacity="0.2"
                    />
                    <path
                      d="M18.1522 3.90332C18.4276 3.90318 18.6934 4.00473 18.8985 4.18849C19.1036 4.37224 19.2337 4.62527 19.2637 4.89903L19.2698 5.02096V7.96745H20.2859C21.0633 7.96741 21.8115 8.26446 22.3771 8.79784C22.9428 9.33121 23.2833 10.0606 23.3289 10.8367L23.334 11.0156V18.1278C23.3341 18.6404 23.1405 19.1342 22.7919 19.5101C22.4433 19.8861 21.9655 20.1163 21.4543 20.1548L21.3019 20.1598H19.2698V22.0903C19.27 22.3657 19.1684 22.6315 18.9847 22.8366C18.8009 23.0417 18.5479 23.1718 18.2741 23.2018L18.1522 23.2079H8.19507C7.91967 23.2081 7.65391 23.1065 7.44878 22.9228C7.24364 22.739 7.11358 22.486 7.08353 22.2122L7.07744 22.0903V20.1598H5.04537C4.53271 20.16 4.03892 19.9664 3.66301 19.6178C3.2871 19.2692 3.05684 18.7914 3.01839 18.2802L3.01331 18.1278V11.0156C3.01326 10.2381 3.31032 9.48996 3.84369 8.92429C4.37707 8.35862 5.10644 8.01814 5.88258 7.97253L6.0614 7.96745H7.07744V5.02096C7.0773 4.74555 7.17884 4.47979 7.3626 4.27466C7.54636 4.06953 7.79939 3.93946 8.07315 3.90942L8.19507 3.90332H18.1522ZM17.2378 17.1117H9.1095V21.1759H17.2378V17.1117ZM20.2859 9.99952H6.0614C5.81254 9.99955 5.57235 10.0909 5.38638 10.2563C5.20041 10.4217 5.0816 10.6495 5.05248 10.8967L5.04537 11.0156V18.1278H7.07744V16.1973C7.0773 15.9219 7.17884 15.6562 7.3626 15.451C7.54636 15.2459 7.79939 15.1158 8.07315 15.0858L8.19507 15.0797H18.1522C18.4276 15.0795 18.6934 15.1811 18.8985 15.3648C19.1036 15.5486 19.2337 15.8016 19.2637 16.0754L19.2698 16.1973V18.1278H21.3019V11.0156C21.3019 10.7461 21.1949 10.4876 21.0043 10.2971C20.8138 10.1066 20.5553 9.99952 20.2859 9.99952ZM18.2538 11.0156C18.5128 11.0158 18.7618 11.115 18.9502 11.2928C19.1385 11.4705 19.2518 11.7135 19.267 11.972C19.2821 12.2306 19.198 12.4851 19.0318 12.6837C18.8656 12.8823 18.6298 13.0099 18.3727 13.0405L18.2538 13.0476H16.2217C15.9628 13.0473 15.7137 12.9482 15.5254 12.7704C15.3371 12.5926 15.2238 12.3496 15.2086 12.0911C15.1934 11.8326 15.2775 11.578 15.4437 11.3795C15.6099 11.1809 15.8457 11.0532 16.1029 11.0227L16.2217 11.0156H18.2538ZM17.2378 5.93539H9.1095V7.96745H17.2378V5.93539Z"
                      fill="black"
                      fill-opacity="0.2"
                    />
                  </svg>
                </div>
                <div class="text-[12px]">
                  <p
                    class="text-[#121212] text-[14px] pb-[3px] font-Montserrat-Bold"
                  >
                    Digital Print
                  </p>
                  <p class="text-[#A0A0A0] text-[12px]">Full color</p>
                </div>
              </div>
              <div
                class="flex items-center m-[5px] md:m-0 md:mr-5 border md:border-0 md:border-r border-[#F5F5F5] md:border-[#121212] min-w-[150px] rounded-[5px] md:rounded-[0px] p-[10px] md:p-0 md:pr-8"
              >
                <div class="mr-2">
                  <svg
                    width="19"
                    height="19"
                    viewBox="0 0 19 19"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <rect
                      x="1.84697"
                      y="1.76781"
                      width="16.0059"
                      height="11.4601"
                      rx="2.39493"
                      stroke="#121212"
                      stroke-width="2.17721"
                    />
                    <rect
                      x="1.84697"
                      y="1.76781"
                      width="16.0059"
                      height="11.4601"
                      rx="2.39493"
                      stroke="black"
                      stroke-opacity="0.2"
                      stroke-width="2.17721"
                    />
                    <rect
                      x="1.84697"
                      y="1.76781"
                      width="16.0059"
                      height="11.4601"
                      rx="2.39493"
                      stroke="black"
                      stroke-opacity="0.2"
                      stroke-width="2.17721"
                    />
                    <rect
                      x="1.84697"
                      y="1.76781"
                      width="16.0059"
                      height="11.4601"
                      rx="2.39493"
                      stroke="black"
                      stroke-opacity="0.2"
                      stroke-width="2.17721"
                    />
                    <rect
                      x="1.84697"
                      y="1.76781"
                      width="16.0059"
                      height="11.4601"
                      rx="2.39493"
                      stroke="black"
                      stroke-opacity="0.2"
                      stroke-width="2.17721"
                    />
                    <path
                      d="M5.63666 13.627V17.4151"
                      stroke="black"
                      stroke-width="2.17721"
                      stroke-linecap="round"
                    />
                    <path
                      d="M13.9713 13.627V17.4151"
                      stroke="black"
                      stroke-width="2.17721"
                      stroke-linecap="round"
                    />
                  </svg>
                </div>
                <div class="text-[12px]">
                  <p
                    class="text-[#121212] text-[14px] pb-[3px] font-Montserrat-Bold"
                  >
                    Topper Board
                  </p>
                  <p class="text-[#A0A0A0] text-[12px]">
                    {{ product?.length || 0 }}' (l) x
                    {{ product?.weight || 0 }}' (w)
                  </p>
                </div>
              </div>
              <div
                class="flex items-center m-[5px] md:m-0 md:mr-5 border md:border-0 md:border-r-0 border-[#F5F5F5] md:border-[#121212] min-w-[150px] rounded-[5px] md:rounded-[0px] p-[10px] md:p-0 md:pr-8"
              >
                <div class="mr-2">
                  <svg
                    width="22"
                    height="16"
                    viewBox="0 0 22 16"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <rect
                      x="1.62431"
                      y="1.29759"
                      width="18.724"
                      height="13.4987"
                      rx="2.39493"
                      stroke="#121212"
                      stroke-width="2.17721"
                    />
                    <rect
                      x="1.62431"
                      y="1.29759"
                      width="18.724"
                      height="13.4987"
                      rx="2.39493"
                      stroke="black"
                      stroke-opacity="0.2"
                      stroke-width="2.17721"
                    />
                    <rect
                      x="1.62431"
                      y="1.29759"
                      width="18.724"
                      height="13.4987"
                      rx="2.39493"
                      stroke="black"
                      stroke-opacity="0.2"
                      stroke-width="2.17721"
                    />
                    <rect
                      x="1.62431"
                      y="1.29759"
                      width="18.724"
                      height="13.4987"
                      rx="2.39493"
                      stroke="black"
                      stroke-opacity="0.2"
                      stroke-width="2.17721"
                    />
                    <rect
                      x="1.62431"
                      y="1.29759"
                      width="18.724"
                      height="13.4987"
                      rx="2.39493"
                      stroke="black"
                      stroke-opacity="0.2"
                      stroke-width="2.17721"
                    />
                    <path
                      d="M6.52557 5.94775H10.4446"
                      stroke="black"
                      stroke-width="2.17721"
                      stroke-linecap="round"
                    />
                    <path
                      d="M6.52557 9.86719H10.4446"
                      stroke="black"
                      stroke-width="2.17721"
                      stroke-linecap="round"
                    />
                  </svg>
                </div>
                <div class="text-[12px]">
                  <p
                    class="text-[#121212] text-[14px] pb-[3px] font-Montserrat-Bold"
                  >
                    Main Board
                  </p>
                  <p class="text-[#A0A0A0] text-[12px]">
                    {{ product?.height || 0 }}' (h) x {{ product?.width || 0 }}'
                    (w)
                  </p>
                </div>
              </div>
            </div>
            <div
              class="border-b border-[#D5D5D5] p-[20px_0px] mb-5"
              v-html="product?.description"
            >
              <!-- <p
                class="text-[14px] md:text-[16px] text-[#121212] font-Montserrat-Medium pb-[8px]"
              >
                Double Sided
              </p>
              <p
                class="text-[14px] md:text-[16px] text-[#121212] font-Montserrat-Medium mb-[10px]"
              >
                Changeable Graphic Inserts
              </p>
              <p
                class="text-[#A0A0A0] text-[12px] md:text-[14px] font-Montserrat-Medium mb-[5px]"
              >
                *Bylaw restrictions may apply
              </p>
              <p
                class="text-[#A0A0A0] text-[12px] md:text-[14px] font-Montserrat-Medium"
              >
                *While supplies last. Subject to change without notice.
              </p> -->
            </div>
          </div>

          <div
            class="flex flex-wrap justify-between border-b border-[#D5D5D5] mb-5"
          >
            <button
              class="bg-[#FFA900] text-[16px] md:text-[18px] text-center py-[12px] rounded-[7px] w-full md:w-[49%] font-Montserrat-Medium mb-[20px]"
              @click="productAddToCart"
            >
              Continue to Cart
            </button>
            <button
              @click="productAddToCart"
              class="bg-[#121212] text-[16px] md:text-[18px] text-white border-[1px] border-[#000000] w-full md:w-[49%] rounded-[7px] py-[11px] mb-[20px]"
            >
              Select Design Method
            </button>
            <button
              class="bg-[#ffffff] text-[12px] md:text-[14px] border-[1px] border-[#000000] w-full rounded-[7px] py-[6px] mb-[10px]"
              @click="downloadFileItem"
            >
              Download Artwork Specs
            </button>
            <button
              class="bg-[#ffffff] text-[12px] md:text-[14px] border-[1px] border-[#000000] w-full rounded-[7px] py-[6px] mb-[20px]"
            >
              Download Property Owner Permission Letter
            </button>
          </div>
          <div class="flex flex-wrap justify-between">
            <div
              class="flex items-center w-[47%] md:w-fit md:mr-[10px] border md:border-0 border-[#F5F5F5] p-2 md:p-0 m-[5px] md:m-0 rounded-[9px]"
            >
              <div
                class="bg-[#DAC8FF] md:bg-[#F4F4F4] rounded-[6px] p-3 mr-[10px]"
              >
                <svg
                  width="23"
                  height="22"
                  viewBox="0 0 23 22"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_4661_37702)">
                    <path
                      d="M12.758 7.85182H19.103L21.218 12.0818M12.758 7.85182V16.3119M12.758 7.85182V6.79432C12.758 6.51385 12.6466 6.24487 12.4483 6.04655C12.25 5.84823 11.981 5.73682 11.7005 5.73682H3.24049C2.96002 5.73682 2.69104 5.84823 2.49272 6.04655C2.2944 6.24487 2.18298 6.51385 2.18298 6.79432V16.3119H4.29799M21.218 12.0818V16.3119H19.103M21.218 12.0818H15.9305M12.758 16.3119H8.528M12.758 16.3119H14.873M19.6318 17.8981C19.6318 18.5993 19.3533 19.2717 18.8575 19.7675C18.3617 20.2633 17.6892 20.5419 16.988 20.5419C16.2869 20.5419 15.6144 20.2633 15.1186 19.7675C14.6228 19.2717 14.3443 18.5993 14.3443 17.8981C14.3443 17.1969 14.6228 16.5245 15.1186 16.0287C15.6144 15.5329 16.2869 15.2543 16.988 15.2543C17.6892 15.2543 18.3617 15.5329 18.8575 16.0287C19.3533 16.5245 19.6318 17.1969 19.6318 17.8981ZM9.05676 17.8981C9.05676 18.5993 8.77822 19.2717 8.28242 19.7675C7.78662 20.2633 7.11417 20.5419 6.413 20.5419C5.71183 20.5419 5.03938 20.2633 4.54358 19.7675C4.04778 19.2717 3.76924 18.5993 3.76924 17.8981C3.76924 17.1969 4.04778 16.5245 4.54358 16.0287C5.03938 15.5329 5.71183 15.2543 6.413 15.2543C7.11417 15.2543 7.78662 15.5329 8.28242 16.0287C8.77822 16.5245 9.05676 17.1969 9.05676 17.8981Z"
                      stroke="black"
                      stroke-width="1.74177"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_4661_37702">
                      <rect
                        width="21.6688"
                        height="21.6688"
                        fill="white"
                        transform="translate(0.828491 0.154785)"
                      />
                    </clipPath>
                  </defs>
                </svg>
              </div>
              <div class="text-[12px]">
                <p
                  class="text-[#121212] text-[12px] md:text-[14px] font-Montserrat-Bold pb-1"
                >
                  Free Delivery
                </p>
                <p
                  class="text-[#121212] text-[10px] md:text-[12px] font-Montserrat-Medium"
                >
                  1-2 day
                </p>
              </div>
            </div>
            <div
              class="flex items-center w-[47%] md:w-fit md:mr-[10px] border md:border-0 border-[#F5F5F5] p-2 md:p-0 m-[5px] md:m-0 rounded-[9px]"
            >
              <div
                class="bg-[#DAC8FF] md:bg-[#F4F4F4] rounded-[6px] p-3 mr-[10px]"
              >
                <svg
                  width="22"
                  height="22"
                  viewBox="0 0 22 22"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M19.591 7.32508C19.5962 7.27005 19.5962 7.21465 19.591 7.15962L17.8492 2.80519C17.7812 2.63306 17.6601 2.48709 17.5035 2.38843C17.3469 2.28978 17.163 2.24358 16.9783 2.25653H4.78593C4.61151 2.25636 4.44106 2.30857 4.29666 2.40639C4.15225 2.50422 4.04055 2.64315 3.97601 2.80519L2.23424 7.15962C2.22899 7.21465 2.22899 7.27005 2.23424 7.32508C2.20559 7.3737 2.185 7.42664 2.17328 7.48184C2.18297 8.08383 2.34852 8.67304 2.65379 9.19198C2.95905 9.71093 3.3936 10.1419 3.91505 10.4429V18.8034C3.91505 19.0343 4.0068 19.2558 4.17013 19.4192C4.33345 19.5825 4.55496 19.6742 4.78593 19.6742H16.9783C17.2093 19.6742 17.4308 19.5825 17.5941 19.4192C17.7575 19.2558 17.8492 19.0343 17.8492 18.8034V10.4777C18.3757 10.1737 18.8135 9.73728 19.1191 9.21172C19.4246 8.68615 19.5873 8.08977 19.591 7.48184C19.5989 7.42989 19.5989 7.37704 19.591 7.32508ZM11.753 17.9325H10.0112V14.4489H11.753V17.9325ZM16.1074 17.9325H13.4948V13.578C13.4948 13.3471 13.403 13.1256 13.2397 12.9622C13.0764 12.7989 12.8549 12.7072 12.6239 12.7072H9.14036C8.90939 12.7072 8.68788 12.7989 8.52455 12.9622C8.36123 13.1256 8.26948 13.3471 8.26948 13.578V17.9325H5.65682V10.9654C6.15276 10.9626 6.64239 10.8539 7.09296 10.6467C7.54352 10.4394 7.94464 10.1383 8.26948 9.76356C8.59638 10.1342 8.99841 10.4311 9.44887 10.6344C9.89933 10.8378 10.3879 10.943 10.8821 10.943C11.3764 10.943 11.8649 10.8378 12.3154 10.6344C12.7659 10.4311 13.1679 10.1342 13.4948 9.76356C13.8196 10.1383 14.2207 10.4394 14.6713 10.6467C15.1219 10.8539 15.6115 10.9626 16.1074 10.9654V17.9325ZM16.1074 9.22361C15.6455 9.22361 15.2025 9.04011 14.8758 8.71346C14.5492 8.38681 14.3657 7.94379 14.3657 7.48184C14.3657 7.25087 14.2739 7.02936 14.1106 6.86603C13.9473 6.70271 13.7258 6.61096 13.4948 6.61096C13.2638 6.61096 13.0423 6.70271 12.879 6.86603C12.7157 7.02936 12.6239 7.25087 12.6239 7.48184C12.6239 7.94379 12.4404 8.38681 12.1137 8.71346C11.7871 9.04011 11.3441 9.22361 10.8821 9.22361C10.4202 9.22361 9.97716 9.04011 9.65051 8.71346C9.32387 8.38681 9.14036 7.94379 9.14036 7.48184C9.14036 7.25087 9.04861 7.02936 8.88528 6.86603C8.72196 6.70271 8.50045 6.61096 8.26948 6.61096C8.0385 6.61096 7.81699 6.70271 7.65367 6.86603C7.49034 7.02936 7.39859 7.25087 7.39859 7.48184C7.40717 7.71058 7.37061 7.93876 7.291 8.15336C7.21139 8.36797 7.0903 8.56479 6.93462 8.73259C6.77895 8.90039 6.59175 9.03589 6.38371 9.13135C6.17567 9.22681 5.95087 9.28035 5.72214 9.28893C5.26019 9.30625 4.81028 9.13936 4.47139 8.82496C4.30358 8.66929 4.16809 8.48209 4.07263 8.27405C3.97717 8.06601 3.92363 7.84121 3.91505 7.61247L5.37814 3.9983H16.3861L17.8492 7.61247C17.8162 8.05142 17.6182 8.46158 17.2951 8.76048C16.9719 9.05938 16.5476 9.22485 16.1074 9.22361Z"
                    fill="black"
                  />
                </svg>
              </div>
              <div class="text-[12px]">
                <p
                  class="text-[#121212] text-[12px] md:text-[14px] font-Montserrat-Bold pb-1"
                >
                  In Stock
                </p>
                <p
                  class="text-[#121212] text-[10px] md:text-[12px] font-Montserrat-Medium"
                >
                  Today
                </p>
              </div>
            </div>
            <div
              class="flex items-center w-[47%] md:w-fit md:mr-[10px] border md:border-0 border-[#F5F5F5] p-2 md:p-0 m-[5px] md:m-0 rounded-[9px]"
            >
              <div
                class="bg-[#DAC8FF] md:bg-[#F4F4F4] rounded-[6px] p-3 mr-[10px]"
              >
                <svg
                  width="22"
                  height="22"
                  viewBox="0 0 22 22"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M14.4482 9.6579L13.1512 10.96L11.8449 12.2663L10.5385 13.5726L8.78742 11.8215M4.31188 8.01646C4.18477 7.44388 4.20429 6.84847 4.36863 6.28544C4.53297 5.72241 4.83681 5.20999 5.25198 4.79569C5.66715 4.38139 6.1802 4.07862 6.74358 3.91546C7.30695 3.7523 7.9024 3.73403 8.47472 3.86234C8.78972 3.36968 9.22368 2.96425 9.73659 2.68341C10.2495 2.40257 10.8248 2.25537 11.4096 2.25537C11.9944 2.25537 12.5697 2.40257 13.0826 2.68341C13.5955 2.96425 14.0295 3.36968 14.3445 3.86234C14.9177 3.73347 15.5141 3.75166 16.0784 3.91522C16.6427 4.07877 17.1564 4.38238 17.5718 4.79781C17.9873 5.21323 18.2909 5.72697 18.4544 6.29124C18.618 6.85551 18.6362 7.45198 18.5073 8.02517C19 8.34018 19.4054 8.77414 19.6862 9.28704C19.9671 9.79995 20.1143 10.3753 20.1143 10.9601C20.1143 11.5448 19.9671 12.1202 19.6862 12.6331C19.4054 13.146 19 13.5799 18.5073 13.8949C18.6356 14.4673 18.6174 15.0627 18.4542 15.6261C18.291 16.1895 17.9883 16.7025 17.574 17.1177C17.1597 17.5328 16.6472 17.8367 16.0842 18.001C15.5212 18.1654 14.9258 18.1849 14.3532 18.0578C14.0386 18.5523 13.6043 18.9595 13.0905 19.2416C12.5767 19.5237 12.0001 19.6716 11.414 19.6716C10.8278 19.6716 10.2512 19.5237 9.73739 19.2416C9.22361 18.9595 8.78931 18.5523 8.47472 18.0578C7.9024 18.1861 7.30695 18.1678 6.74358 18.0047C6.1802 17.8415 5.66715 17.5387 5.25198 17.1244C4.83681 16.7101 4.53297 16.1977 4.36863 15.6347C4.20429 15.0716 4.18477 14.4762 4.31188 13.9036C3.81544 13.5895 3.40652 13.1548 3.12317 12.6402C2.83981 12.1255 2.69122 11.5476 2.69122 10.9601C2.69122 10.3726 2.83981 9.79459 3.12317 9.27993C3.40652 8.76528 3.81544 8.33064 4.31188 8.01646Z"
                    stroke="black"
                    stroke-width="1.74177"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </div>
              <div class="text-[12px]">
                <p
                  class="text-[#121212] text-[12px] md:text-[14px] font-Montserrat-Bold pb-1"
                >
                  Guaranteed
                </p>
                <p
                  class="text-[#121212] text-[10px] md:text-[12px] font-Montserrat-Medium"
                >
                  30 Day
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container mx-auto px-6 md:px-0 mb-10">
      <div class="flex flex-wrap lg:flex-nowrap pt-[50px]">
        <div class="w-full lg:w-[50%] order-2 lg:order-1 pb-[4rem] lg:pb-0">
          <p
            class="font-Montserrat-Medium w-fit bg-[#121212] text-[#FFFFFF] text-[16px] md:text-[20px] rounded-full py-[6px] px-7 mb-[29px]"
          >
            FAQ
          </p>
          <FaqsSeaction :faqs="faqs" />
        </div>
        <div class="w-full lg:w-[50%] order-1 lg:order-2 mb-[3rem] lg:mb-0">
          <img
            src="/Images/Product/5.jpg"
            alt=""
            class="w-full lg:w-[80%] md:h-[354px] lg:h-auto mx-auto object-cover rounded-[28px]"
          />
        </div>
      </div>
    </div>
    <div class="container mx-auto px-6 md:px-0 mb-10">
      <p
        class="font-Montserrat-Medium w-fit bg-[#121212] text-[#FFFFFF] text-[16px] md:text-[20px] rounded-full py-[6px] px-7 mb-[29px]"
      >
        You might also like
      </p>
      <CarouselSlider
        :data="
          rentalProductData && rentalProductData?.records
            ? rentalProductData?.records
            : []
        "
        type="rental"
      />
    </div>
    <div class="container mx-auto px-6 md:px-0 mb-10">
      <!-- <p class="text-[30px] text-[#000000] font-Montserrat-Medium font-bold  pb-[2rem]">Downtowner in practice</p> -->
      <p
        class="font-Montserrat-Medium w-fit bg-[#121212] text-[#FFFFFF] text-[16px] md:text-[20px] rounded-full py-[6px] px-7 mb-[29px]"
      >
        Downtowner in practice
      </p>
      <Carousel
        :perPageCustom="perPageCustom"
        :autoplay="true"
        :autoplayTimeout="3000"
        loop
        :nav="false"
        :dots="false"
      >
        <Slide class="relative m-2">
          <div class="relative">
            <img src="/Images/Product/6.png" alt="" class="w-full" />
          </div>
        </Slide>
        <Slide class="relative m-2">
          <div class="relative">
            <img src="/Images/Product/7.png" alt="" class="w-full" />
          </div>
        </Slide>
        <Slide class="relative m-2">
          <div class="relative">
            <img src="/Images/Product/8.png" alt="" class="w-full" />
          </div>
        </Slide>
        <Slide class="relative m-2">
          <div class="relative">
            <img src="/Images/Product/6.png" alt="" class="w-full" />
          </div>
        </Slide>
        <Slide class="relative m-2">
          <div class="relative">
            <img src="/Images/Product/7.png" alt="" class="w-full" />
          </div>
        </Slide>
        <Slide class="relative m-2">
          <div class="relative">
            <img src="/Images/Product/8.png" alt="" class="w-full" />
          </div>
        </Slide>
      </Carousel>
    </div>
    <div class="container mx-auto px-6 md:px-0 pb-[4rem]">
      <!-- <p class="text-[30px] text-[#000000] font-Montserrat-Medium font-bold pt-[5rem] pb-[2rem]">From our customers</p> -->
      <p
        class="font-Montserrat-Medium w-fit bg-[#121212] text-[#FFFFFF] text-[16px] md:text-[20px] rounded-full py-[6px] px-7 mb-[29px]"
      >
        From our customers
      </p>
      <Testimonial :testiminoalSlider="testiminoalSlider" />
    </div>
    <DesignMethod
      :isVisible="showDesignModal"
      @close="showDesignModal = false"
    />
  </div>
</template>
<script>
import trff from "@/static/Images/Testimonial/trff-1.png";
import cl from "@/static/Images/Testimonial/cl-1.png";
import cbs from "@/static/Images/Testimonial/cbs-1.png";
import Pizza from "@/static/Images/Testimonial/pizza.png";
import { mapGetters, mapActions, mapMutations } from "vuex";

export default {
  layout: "productLayout",

  // middleware: "auth",

  data() {
    return {
      rentalHistory: "",
      showDesignModal: false,
      activeAccordion: null,
      testiminoalSlider: [
        {
          id: 1,
          title: "Janie Houghton",
          shortTitle: "PR Specialist at York Region",
          description:
            "We’ve worked with Curbex for signage across several locations, and their expertise and professionalism have been exceptional. They manage the entire process, which saves us time and hassle. The signs have made a noticeable difference with our events and notices, and we couldn’t be happier with the results. Curbex is a true partner!",
          image: trff,
        },
        {
          id: 2,
          title: "Adam Palmieri",
          shortTitle: "Supervisor Animal Services at City of Burlington",
          description:
            "The City of Burlington found Curbex signage highly effective for communicating key messages. Curbex provided reliable service, placing signs on time and exactly where needed. The clear, colorful signs boosted visibility, and Rachel’s professionalism exceeded expectations.",
          image: cl,
        },
        {
          id: 3,
          title: "Julia Hance",
          shortTitle: "Enterprise Risk Specialist at Canadian Blood Services",
          description:
            "it has been an absolute pleasure working with you! Your creative problem solving and attention to detail have been a huge support to me, Canadian Blood Services, and to the patients in need. You help in finding ways to get signs out has helped us recruit more blood donors and new blood donors – literally saving lives across Canada!",
          image: cbs,
        },
        {
          id: 4,
          title: "AshElizabeth Janik",
          shortTitle: "Marketing Manager at Pizza Nova",
          description:
            "Working with Curbex Media has been fantastic for Pizza Nova. Their efficient team supports us with bookings, quotes, and creative changes. The signage has been great for promoting specials and driving more traffic to our locations. Curbex consistently exceeds our expectations, making them a reliable advertising partner.",
          image: Pizza,
        },
      ],
      perPageCustom: [
        [320, 1.2], // Show 1 slide if width >= 320px
        [768, 1.5], // Show 3 slides if width >= 768px
        [1024, 4], // Show 5 slides if width >= 1024px
      ],
      carouselSettings: {
        dots: false,
        infinite: false,
        nav: false,
        speed: 500,
        slidesToShow: 4,
        slidesToScroll: 4,
        initialSlide: 0,
        centerMode: false,
      },
      productId: null,
      heroImage: null,
      faqs: [
        {
          isOpen: false,
          contentWidth: 0,

          question: "Can we place signage directly at the business location?",
          answer:
            "Absolutely. Placing signs near or at the point of purchase maximizes impact by reaching customers right when they’re ready to act.",
        },
        {
          isOpen: false,
          contentWidth: 0,

          question: "How do Curbex signs fit into multi-channel campaigns?",
          answer:
            "Our signs are perfect for reinforcing messages from digital, TV, and radio campaigns, ensuring your clients’ brands stay top of mind.",
        },
        {
          isOpen: false,
          contentWidth: 0,

          question: "Can we launch nationwide campaigns with Curbex signage?",
          answer:
            "Yes! Our signage solutions can be deployed across Canada, offering a consistent, high-quality presence nationwide.",
        },
      ],
    };
  },
  computed: {
    ...mapGetters({
      rentalProductData: "product/getRentalProductData",
      product: "product/getSingleProductData",
      cartItemCount: "product/getCartItemCount",
      cartDetail: "product/getCartItem",
      favoriteProductIds: "product/getFavoriteProductIds",
    }),
    isolatedImages() {
      return this.product?.images && this.product?.images.length
        ? this.product?.images.filter((x) => x.imageType == "isolated")
        : [];
    },
    dynamicCarouselSettings() {
      // Update centerMode based on the number of product images
      const isCenterMode =
        this.isolatedImages && this.isolatedImages.length <= 3;
      return {
        ...this.carouselSettings,
        centerMode: isCenterMode,
      };
    },
    hasToken() {
      return this.$cookies.get("token") ? true : false;
    },
  },
  async mounted() {
    const accordionElements = document.querySelectorAll("[data-accordion]");
    accordionElements.forEach((accordion) => {
      // Reinitialize Flowbite accordion
      import("flowbite").then(
        ({ default: Flowbite }) => new Flowbite(accordion)
      );
    });
    await this.getSingleProduct();
    this.heroImage =
      this.isolatedImages && this.isolatedImages.length
        ? this.isolatedImages[0].imageUrl
        : null;
  },
  async asyncData({ params }) {
    return {
      productId: params.pathMatch,
    };
  },
  methods: {
    ...mapActions({
      fetchSingleProductPublicDetail: "product/fetchSingleProductPublicDetail",
      fetchSingleProductDetail: "product/fetchSingleProductDetail",
      toggleFavoriteProduct: "product/toggleFavoriteProduct",
      addToCart: "product/addToCart",
      updateCartItem: "product/updateCartItem",
      fetchCartItems: "product/fetchCartItems",
    }),
    ...mapMutations({
      setCartItemCount: "product/setCartItemCount",
    }),
    toggleAccordion(accordionId) {
      if (this.activeAccordion === accordionId) {
        this.activeAccordion = null;
      } else {
        this.activeAccordion = accordionId;
      }
    },
    async toggleFavorite() {
      try {
        await this.toggleFavoriteProduct({ id: this.product.id });
      } catch (error) {
        if (error.status == 401) {
          this.$toast.open({
            message: this.$i18n.t("authFavoriteErrorMessage"),
            type: "warning",
          });
          this.$router.push(
            `/auth/login?redirect=/product-view${this.product.id}`
          );
        }
        console.log(error, "error");
      }
    },
    shareProduct() {
      const shareUrl = window.location.href;
      if (navigator.share) {
        navigator
          .share({
            title: this.product?.name || "Check out this product!",
            url: shareUrl,
          })
          .then(() => console.log("Product shared successfully"))
          .catch((error) => console.log("Error sharing product:", error));
      } else {
        alert("Your browser does not support the Web Share API.");
      }
    },
    async getSingleProduct() {
      if (this.hasToken) {
        await this.fetchSingleProductDetail({ id: this.productId });
      } else {
        await this.fetchSingleProductPublicDetail({ id: this.productId });
      }
    },
    downloadFileItem() {
      if (this.product.artworkSpecsURL && this.product.artworkSpecsURL != "") {
        const fileName = this.product.artworkSpecsURL.split("/").pop();
        this.$downloadFile({
          src: this.product.artworkSpecsURL,
          name: fileName,
        });
      }
    },
    selectDesignMethod() {
      this.$cookies.set("productId", this.productId);
      this.showDesignModal = true;
    },
    async productAddToCart() {
      try {
        if (!this.hasToken) {
          if (this.product.type == "rental") {
            this.$router.push(`/auth/login?redirect=/rental/${this.productId}`);
          } else {
            this.$router.push(
              `/auth/login?redirect=/product-view/${this.productId}`
            );
          }
          return;
        }
        let cartData = null;
        if (this.cartDetail && this.cartDetail.cartItems) {
          cartData = this.cartDetail.cartItems.find(
            (x) => x.productId == this.productId
          );
        }
        if (cartData && cartData != null && cartData.id != "") {
          await this.updateCartItem({
            id: cartData.id,
            quantity: cartData.quantity + 1,
            requestedDesigner: cartData.requestedDesigner,
          });
          await this.setCartItemCount(this.cartItemCount + 1);
          this.$toast.open({
            message: this.$i18n.t("productQuantityIncreasedMessage"),
          });
        } else {
          await this.addToCart({
            productId: this.productId,

            quantity: 1,
          });
          this.$toast.open({
            message: this.$i18n.t("productAddedToCartMessage"),
          });
        }
        this.$cookies.set("productId", this.productId);
        this.showDesignModal = true;
        await this.fetchCartItems();
      } catch (error) {
        console.log(error, "error");
      }
    },
  },
};
</script>
<style scoped>
::v-deep .slick-prev:before,
::v-deep .slick-next:before {
  color: #000000;
}
::v-deep .VueCarousel-wrapper {
  border-radius: 0px !important;
}
</style>
